{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3">
    <h2 class="fw-bold text-secondary mb-0">–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏</h2>
    
    <div class="d-flex flex-wrap gap-2 flex-grow-1 justify-content-lg-end align-items-center">
        <!-- –§–∏–ª—å—Ç—Ä —É—Ä–æ–≤–Ω—è –ª–æ–≥–æ–≤ -->
        <select id="logPriority" class="form-select shadow-sm" style="width: auto; border-radius: 8px;" onchange="fetchLogs()">
            <option value="all">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
            <option value="error">üî¥ –¢–æ–ª—å–∫–æ –û—à–∏–±–∫–∏</option>
            <option value="warning">üü° –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</option>
            <option value="info">üîµ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</option>
        </select>
        
        <!-- –ü–æ–∏—Å–∫ -->
        <input type="text" id="logSearch" class="form-control shadow-sm" placeholder="–ü–æ–∏—Å–∫ (–Ω–∞–ø—Ä. sshd)..." style="max-width: 250px; border-radius: 8px;">
        
        <button class="btn btn-primary shadow-sm d-flex align-items-center gap-1" onclick="fetchLogs()" style="border-radius: 8px;">
            <span class="material-symbols-outlined fs-6">refresh</span> –û–±–Ω–æ–≤–∏—Ç—å
        </button>
        
        <button id="autoRefreshBtn" class="btn btn-secondary shadow-sm" onclick="toggleAutoRefresh()" style="border-radius: 8px;">
            –ê–≤—Ç–æ: –í–´–ö–õ
        </button>
    </div>
</div>

<div class="card border-0 shadow-sm mb-4">
    <div class="card-body p-0">
        <!-- –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ —Ç–∞–±–ª–∏—Ü—ã -->
        <div class="table-responsive" style="height: 70vh; overflow-y: auto;">
            <table class="table table-hover align-middle mb-0" style="font-size: 0.85rem; font-family: 'Courier New', monospace;">
                <!-- –ü—Ä–∏–ª–∏–ø–∞—é—â–∞—è —à–∞–ø–∫–∞ -->
                <thead class="table-dark position-sticky top-0" style="z-index: 10;">
                    <tr>
                        <th class="ps-3" style="width: 140px;">–í—Ä–µ–º—è</th>
                        <th style="width: 100px;">–£—Ä–æ–≤–µ–Ω—å</th>
                        <th style="width: 180px;">–ò—Å—Ç–æ—á–Ω–∏–∫</th>
                        <th class="pe-3">–°–æ–æ–±—â–µ–Ω–∏–µ</th>
                    </tr>
                </thead>
                <tbody id="logsTableBody">
                    <tr><td colspan="4" class="text-center py-5 text-muted">–ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ–≤...</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/logs.js"></script>
{% endblock %}